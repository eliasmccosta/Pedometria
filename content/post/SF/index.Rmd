---
date: "2020-06-14"
diagram: true
image:
  caption: 'Image credit: [**sao.francisco.mg**](https://www.instagram.com/sao.francisco.mg/)'
  focal_point: ""
  placement: 3
math: true
title: Mapas temáticos de São Francisco-MG
subtitle: 'Tutorial: Mapas temáticos de São Francisco-MG'
summary: ''
bibliography: [references.bib]
link-citations: true 
csl: [geoderma-regional.csl]
authors:
- admin
categories:
  - R
  - Mapeamento
tags:
  - MDS
  - Pedometria
  - Mapas
nocite: | 
  @R-bookdown
---

```{r, eval=FALSE, echo=FALSE}
rmarkdown::render('index.Rmd', encoding = 'UTF-8'")
```

# Introdução
Nesse tutorial serão abordados através de pacotes para leitura, manipulação e plotagens de arquivos *shapefile* e *raster* uma coleção de códigos usando o software R [@R2019] e como exemplo o município onde nasci, São Francisco-MG. 
São Francisco é um município do Norte de Minas Gerais. 

O município de São Francisco foi fundado, segundo relatos locais, em 1877 por Domingos do Prado e Oliveira. Sua economia é voltada principalmente para a agricultura, pecuária e serviços gerais. Localiza-se na macrorregião Norte de Minas Gerais (MG), fazendo limite com Januária, Chapada Gaúcha, Pintópolis, Icaraí de Minas, Luislândia, Brasília de Minas, Japonvar e Pedras de Maria da Cruz; Localiza-se a uma latitude 15º56'55" sul e a uma longitude 44º51'52" oeste, estando a uma altitude de 918 metros e distantes 568 km de Belo Horizonte (BH) pelas BR 040 e 135 [Wikipédia](https://pt.wikipedia.org/wiki/S%C3%A3o_Francisco_(Minas_Gerais).



```{r, warning=FALSE, message=FALSE}
# Carregando os pacotes no R
library(geobr) # O pacote geobr fornece acesso rápido e fácil a conjuntos de dados espaciais oficiais do Brasil.. 
library(sf) # Suporte a recursos simples, uma maneira padronizada de codificar dados vetoriais espaciais
library(tmap) # Mapas temáticos são mapas geográficos nos quais as distribuições de dados espaciais são visualizadas
library(raster) # manipulação de rasters
library(ggplot2) #plot de gráficos diversos
library(ggspatial)# plote de elementos espaciais para o ggplot2
```
# Parte I: Trabalhando com dados vetoriais (shape)
Para esse exercício iremos usar oso dados da Fundação Brasileira para o desenvolvimento sustentável [FBDS](http://geo.fbds.org.br). Uma observação importante é que os dados podem demorar, sobretudo o de uso da terra.  
Aqui os dados estão marcados como comentários com `#` porque já foi feito o dowload do dados, para rodar o código e decarregar os dados só retirar o `#`. Lembrando que no meu caso estou salvando numa pasta denominda *shape* num diretório local do PC.

Boa parte do que é apresentado de mapas aqui foi feito com a ajuda do material fornecido por [geocast brasil](https://www.youtube.com/channel/UCLAeX4dyujMoy4xqHvxSDpQ)

```{r, warning=FALSE, message=FALSE}
## Massa de água - São Francisco
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_MASSAS_DAGUA.dbf",  destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_MASSAS_DAGUA.dbf")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_MASSAS_DAGUA.prj", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_MASSAS_DAGUA.prj")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_MASSAS_DAGUA.shp",  destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_MASSAS_DAGUA.shp")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_MASSAS_DAGUA.shx", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_MASSAS_DAGUA.shx")

## Nascentes - São Francisco
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_NASCENTES.dbf", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_NASCENTES.dbf")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_NASCENTES.prj", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_NASCENTES.prj")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_NASCENTES.shp", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_NASCENTES.shp")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_NASCENTES.shx", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_NASCENTES.shx")

## Rios Duplos - São Francisco
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_RIOS_DUPLOS.dbf", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_RIOS_DUPLOS.dbf")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_RIOS_DUPLOS.prj", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_RIOS_DUPLOS.prj")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_RIOS_DUPLOS.shp", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_RIOS_DUPLOS.shp")
# download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_RIOS_DUPLOS.shx", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_RIOS_DUPLOS.shx")

## Rio simples - São Francisco
# download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_RIOS_SIMPLES.dbf", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_RIOS_SIMPLES.dbf")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_RIOS_SIMPLES.prj", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_RIOS_SIMPLES.prj")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_RIOS_SIMPLES.shp", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_RIOS_SIMPLES.shp")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/HIDROGRAFIA/MG_3161106_RIOS_SIMPLES.shx", destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_RIOS_SIMPLES.shx")

## APP - São Francisco
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/APP/MG_3161106_APP.dbf",             destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_APP.dbf")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/APP/MG_3161106_APP.prj",               destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_APP.prj")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/APP/MG_3161106_APP.shp",               destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_APP.shp")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/APP/MG_3161106_APP.shx",               destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_APP.shx")

## Uso do solo - São Francisco
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/USO/MG_3161106_USO.dbf",               destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_USO.dbf")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/USO/MG_3161106_USO.prj",               destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_USO.prj")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/USO/MG_3161106_USO.shp",              destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_USO.shp")
#download.file(url = "http://geo.fbds.org.br//MG/SAO_FRANCISCO/USO/MG_3161106_USO.shx",               destfile = "/home/elias/MEGA/SF_maps/shape/MG_3161106_USO.shx")
```
